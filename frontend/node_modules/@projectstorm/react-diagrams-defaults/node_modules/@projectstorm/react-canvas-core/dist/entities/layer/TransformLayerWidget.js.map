{"version":3,"file":"TransformLayerWidget.js","sourceRoot":"","sources":["../../../src/entities/layer/TransformLayerWidget.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,MAAM,MAAM,iBAAiB,CAAC;AAGrC,OAAO,EAAE,GAAG,EAAE,MAAM,gBAAgB,CAAC;AAMrC,IAAU,CAAC,CAqBV;AArBD,WAAU,CAAC;IACV,MAAM,MAAM,GAAG,GAAG,CAAA;;;;;;;;;;;EAWjB,CAAC;IAEW,UAAQ,GAAG,MAAM,CAAC,GAAG,CAAA;IAC/B,MAAM;EACR,CAAC;IAEW,UAAQ,GAAG,MAAM,CAAC,GAAG,CAAA;IAC/B,MAAM;EACR,CAAC;AACH,CAAC,EArBS,CAAC,KAAD,CAAC,QAqBV;AAED,MAAM,OAAO,oBAAqB,SAAQ,KAAK,CAAC,SAA6D;IAC5G,YAAY,KAAgC;QAC3C,KAAK,CAAC,KAAK,CAAC,CAAC;QACb,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;IACjB,CAAC;IAED,YAAY;QACX,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;QAC3C,OAAO;;MAEH,KAAK,CAAC,UAAU,EAAE;MAClB,KAAK,CAAC,UAAU,EAAE;;MAElB,KAAK,CAAC,YAAY,EAAE,GAAG,KAAK;;IAE9B,CAAC;IACJ,CAAC;IAED,iBAAiB;QAChB,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,WAAW,EAAE;YAC9C,OAAO;gBACN,SAAS,EAAE,IAAI,CAAC,YAAY,EAAE;aAC9B,CAAC;SACF;QACD,OAAO,EAAE,CAAC;IACX,CAAC;IAED,MAAM;QACL,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE;YACxC,OAAO,oBAAC,CAAC,CAAC,QAAQ,IAAC,KAAK,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAc,CAAC;SACvF;QACD,OAAO,oBAAC,CAAC,CAAC,QAAQ,IAAC,KAAK,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAc,CAAC;IACxF,CAAC;CACD","sourcesContent":["import * as React from 'react';\nimport styled from '@emotion/styled';\nimport { CSSProperties } from 'react';\nimport { LayerModel } from './LayerModel';\nimport { css } from '@emotion/react';\n\nexport interface TransformLayerWidgetProps {\n\tlayer: LayerModel;\n}\n\nnamespace S {\n\tconst shared = css`\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tposition: absolute;\n\t\tpointer-events: none;\n\t\ttransform-origin: 0 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: visible;\n\t`;\n\n\texport const DivLayer = styled.div`\n\t\t${shared}\n\t`;\n\n\texport const SvgLayer = styled.svg`\n\t\t${shared}\n\t`;\n}\n\nexport class TransformLayerWidget extends React.Component<React.PropsWithChildren<TransformLayerWidgetProps>> {\n\tconstructor(props: TransformLayerWidgetProps) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tgetTransform() {\n\t\tconst model = this.props.layer.getParent();\n\t\treturn `\n\t\t\ttranslate(\n\t\t\t\t${model.getOffsetX()}px,\n\t\t\t\t${model.getOffsetY()}px)\n\t\t\tscale(\n\t\t\t\t${model.getZoomLevel() / 100.0}\n\t\t\t)\n  \t`;\n\t}\n\n\tgetTransformStyle(): CSSProperties {\n\t\tif (this.props.layer.getOptions().transformed) {\n\t\t\treturn {\n\t\t\t\ttransform: this.getTransform()\n\t\t\t};\n\t\t}\n\t\treturn {};\n\t}\n\n\trender() {\n\t\tif (this.props.layer.getOptions().isSvg) {\n\t\t\treturn <S.SvgLayer style={this.getTransformStyle()}>{this.props.children}</S.SvgLayer>;\n\t\t}\n\t\treturn <S.DivLayer style={this.getTransformStyle()}>{this.props.children}</S.DivLayer>;\n\t}\n}\n"]}